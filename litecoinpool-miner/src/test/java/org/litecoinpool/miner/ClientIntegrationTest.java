package org.litecoinpool.miner;

import static org.stratum.protocol.StratumMessageBuilder.aStratumMessage;
import static org.stratum.protocol.StratumMethod.MINING_AUTHORIZE;
import static org.stratum.protocol.StratumMethod.MINING_SUBSCRIBE;

import org.junit.Ignore;
import org.junit.Test;

public class ClientIntegrationTest extends AbstractTest {
	@Test
	@Ignore
	public void listen() throws Exception {
		Client client = Client.address("litecoinpool.org", 3333);
		client.send(aStratumMessage().withMethod(MINING_SUBSCRIBE))
			  .send(aStratumMessage().withMethod(MINING_AUTHORIZE).withParams("dabla.1","1"))
			  .listen();
	}
	
	/**
	 * [23/01/2018 20:34:01:001 CET] main  WARN org.unitils.core.ConfigurationLoader: No custom configuration file unitils.properties found.
	 * [23/01/2018 20:34:01:001 CET] main  INFO org.unitils.core.ConfigurationLoader: No local configuration file unitils-local.properties found.
	 * [23/01/2018 20:34:02:002 CET] main  INFO org.litecoinpool.miner.ObservableSocket: > {"id":1,"method":"mining.subscribe","params":[],"result":null,"error":null}
	 * [23/01/2018 20:34:02:002 CET] main  INFO org.litecoinpool.miner.ObservableSocket: < {"id":1,"error":null,"result":[[["mining.notify","16000a2a7fc09fff"],["mining.set_difficulty","16000a2a7fc09fff2"]],"16000a2a",4]}
	 * [23/01/2018 20:34:02:002 CET] main  INFO org.litecoinpool.miner.Client: < {"id":1,"method":null,"params":[],"result":[[["mining.notify","16000a2a7fc09fff"],["mining.set_difficulty","16000a2a7fc09fff2"]],"16000a2a",4],"error":null}
	 * [23/01/2018 20:34:03:003 CET] main  INFO org.litecoinpool.miner.ObservableSocket: < {"id":null,"method":"mining.set_difficulty","params":[65536]}
	 * [23/01/2018 20:34:03:003 CET] main  INFO org.litecoinpool.miner.Client: < {"id":null,"method":"mining.set_difficulty","params":[65536],"result":null,"error":null}
	 * [23/01/2018 20:34:06:006 CET] main  INFO org.litecoinpool.miner.ObservableSocket: < {"id":null,"method":"mining.notify","params":["6a9e","8a87d3a378333404cc4760dfbfa5f96261159438dcf7cdf0d13ce8addc1fe1e2","01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff44033faf14045a678e2d2cfabe6d6d73d8d81be9caae63e0520e1c0a8da19156f4c637050c1f1d1ae585d6a8247b674000000000000000042f4c502f08","ffffffff0268e41d95000000001976a91457757ed2ecf2052ff3126c397aca7defb9ca2cec88ac0000000000000000266a24aa21a9ed52218afaf84b7392272c624581d43836c581d7dc3d54f923441dbe18e461c6e600000000",["913e9ac4c1ddf38f82030c1f9da0e054a61b0211673afd5ef19c16bd9e9a3757","2a250b9a37db4b7024b9fde5950927111c419e312da9293e31d1c98e51e3ab66","27a98561001b0e466f99ee866cae0a43a3eb72bba1166596f7e4f74f645aae39","1e64c69c1a674dc484f2be95354a672c87debbfce9f40246bb5bbd492d9624d5","ef06ed2044c00d146b9924c3d9130b25b7964827d43dc1feb8ed35ace07d788d"],"20000000","1a048442","5a678e2d",true]}
	 * [23/01/2018 20:34:06:006 CET] main  INFO org.litecoinpool.miner.Client: < {"id":null,"method":"mining.notify","params":["6a9e","8a87d3a378333404cc4760dfbfa5f96261159438dcf7cdf0d13ce8addc1fe1e2","01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff44033faf14045a678e2d2cfabe6d6d73d8d81be9caae63e0520e1c0a8da19156f4c637050c1f1d1ae585d6a8247b674000000000000000042f4c502f08","ffffffff0268e41d95000000001976a91457757ed2ecf2052ff3126c397aca7defb9ca2cec88ac0000000000000000266a24aa21a9ed52218afaf84b7392272c624581d43836c581d7dc3d54f923441dbe18e461c6e600000000",["913e9ac4c1ddf38f82030c1f9da0e054a61b0211673afd5ef19c16bd9e9a3757","2a250b9a37db4b7024b9fde5950927111c419e312da9293e31d1c98e51e3ab66","27a98561001b0e466f99ee866cae0a43a3eb72bba1166596f7e4f74f645aae39","1e64c69c1a674dc484f2be95354a672c87debbfce9f40246bb5bbd492d9624d5","ef06ed2044c00d146b9924c3d9130b25b7964827d43dc1feb8ed35ace07d788d"],"20000000","1a048442","5a678e2d",true],"result":null,"error":null}
	 * [23/01/2018 20:34:07:007 CET] main  INFO org.litecoinpool.miner.ObservableSocket: < {"id":null,"method":"mining.notify","params":["6a9f","8a87d3a378333404cc4760dfbfa5f96261159438dcf7cdf0d13ce8addc1fe1e2","01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff44033faf14045a678e2f2cfabe6d6dcc7d07c1c9a567071e275830de7c3399c62be923dcef083de4d8e6447e15ef694000000000000000042f4c502f08","ffffffff0268e41d95000000001976a91457757ed2ecf2052ff3126c397aca7defb9ca2cec88ac0000000000000000266a24aa21a9ed52218afaf84b7392272c624581d43836c581d7dc3d54f923441dbe18e461c6e600000000",["913e9ac4c1ddf38f82030c1f9da0e054a61b0211673afd5ef19c16bd9e9a3757","2a250b9a37db4b7024b9fde5950927111c419e312da9293e31d1c98e51e3ab66","27a98561001b0e466f99ee866cae0a43a3eb72bba1166596f7e4f74f645aae39","1e64c69c1a674dc484f2be95354a672c87debbfce9f40246bb5bbd492d9624d5","ef06ed2044c00d146b9924c3d9130b25b7964827d43dc1feb8ed35ace07d788d"],"20000000","1a048442","5a678e2f",false]}
	 * [23/01/2018 20:34:07:007 CET] main  INFO org.litecoinpool.miner.Client: < {"id":null,"method":"mining.notify","params":["6a9f","8a87d3a378333404cc4760dfbfa5f96261159438dcf7cdf0d13ce8addc1fe1e2","01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff44033faf14045a678e2f2cfabe6d6dcc7d07c1c9a567071e275830de7c3399c62be923dcef083de4d8e6447e15ef694000000000000000042f4c502f08","ffffffff0268e41d95000000001976a91457757ed2ecf2052ff3126c397aca7defb9ca2cec88ac0000000000000000266a24aa21a9ed52218afaf84b7392272c624581d43836c581d7dc3d54f923441dbe18e461c6e600000000",["913e9ac4c1ddf38f82030c1f9da0e054a61b0211673afd5ef19c16bd9e9a3757","2a250b9a37db4b7024b9fde5950927111c419e312da9293e31d1c98e51e3ab66","27a98561001b0e466f99ee866cae0a43a3eb72bba1166596f7e4f74f645aae39","1e64c69c1a674dc484f2be95354a672c87debbfce9f40246bb5bbd492d9624d5","ef06ed2044c00d146b9924c3d9130b25b7964827d43dc1feb8ed35ace07d788d"],"20000000","1a048442","5a678e2f",false],"result":null,"error":null}
	 * [23/01/2018 20:34:46:046 CET] main  INFO org.litecoinpool.miner.ObservableSocket: < {"id":null,"method":"mining.notify","params":["6aa0","8a87d3a378333404cc4760dfbfa5f96261159438dcf7cdf0d13ce8addc1fe1e2","01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff44033faf14045a678e562cfabe6d6dce803504952b27e691a9fc94b70dec769ae37a0f32712c238e7737f5da8c7d064000000000000000042f4c502f08","ffffffff0268e41d95000000001976a91457757ed2ecf2052ff3126c397aca7defb9ca2cec88ac0000000000000000266a24aa21a9ed52218afaf84b7392272c624581d43836c581d7dc3d54f923441dbe18e461c6e600000000",["913e9ac4c1ddf38f82030c1f9da0e054a61b0211673afd5ef19c16bd9e9a3757","2a250b9a37db4b7024b9fde5950927111c419e312da9293e31d1c98e51e3ab66","27a98561001b0e466f99ee866cae0a43a3eb72bba1166596f7e4f74f645aae39","1e64c69c1a674dc484f2be95354a672c87debbfce9f40246bb5bbd492d9624d5","ef06ed2044c00d146b9924c3d9130b25b7964827d43dc1feb8ed35ace07d788d"],"20000000","1a048442","5a678e56",true]}
	 * [23/01/2018 20:34:46:046 CET] main  INFO org.litecoinpool.miner.Client: < {"id":null,"method":"mining.notify","params":["6aa0","8a87d3a378333404cc4760dfbfa5f96261159438dcf7cdf0d13ce8addc1fe1e2","01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff44033faf14045a678e562cfabe6d6dce803504952b27e691a9fc94b70dec769ae37a0f32712c238e7737f5da8c7d064000000000000000042f4c502f08","ffffffff0268e41d95000000001976a91457757ed2ecf2052ff3126c397aca7defb9ca2cec88ac0000000000000000266a24aa21a9ed52218afaf84b7392272c624581d43836c581d7dc3d54f923441dbe18e461c6e600000000",["913e9ac4c1ddf38f82030c1f9da0e054a61b0211673afd5ef19c16bd9e9a3757","2a250b9a37db4b7024b9fde5950927111c419e312da9293e31d1c98e51e3ab66","27a98561001b0e466f99ee866cae0a43a3eb72bba1166596f7e4f74f645aae39","1e64c69c1a674dc484f2be95354a672c87debbfce9f40246bb5bbd492d9624d5","ef06ed2044c00d146b9924c3d9130b25b7964827d43dc1feb8ed35ace07d788d"],"20000000","1a048442","5a678e56",true],"result":null,"error":null}
	 */
}
